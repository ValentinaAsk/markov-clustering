# Алгоритм кластеризации Маркова
* [Теоретическая часть](../master/Theoretical_Part.md)
* [Использование программы](#1)
* [Логика программы](#2)
* [Тесты](#3)
* [Оценка сложности](#4)

<a name="1"></a>
## Использование программы

Для запуска необходим python версии не менее 2.7. Команда:
```
python markov_clustering.py <input_file.csv> <output>
```
Обязательным параметром для запуска является ```<input_file.csv>```, прочий необязателен. По умолчанию файл вывода будет создан в корневой папке проекта с именем ```output```.
Также в консоль выводится краткая информация о выполненной программе.

```input_file.csv``` - это граф, заданный матрицей смежности взвешенного графа в виде таблицы формата \*.csv.

Файл выхода программы, по умолчанию ```output```, содержит полученные кластеры графа, выведенные в виде ассоциативного массива: индекс кластера -> список содержащихся в нем вершин по индексам, взятым из матрицы смежности. (см. [пример](../master/tests/outputs/2) из двух кластеров)

Точность создания кластеров алгоритмом регулируется задаваемыми константами, которые можно найти в файле [config.py](../master/public/config.py). Среди них:

* ```inflate_factor``` - фактор накачивания - константа, использующаяся в операторе накачивания алгоритма как степень r (см. [формула операции накачивания](../master/Theoretical_Part.md#3)). При значениях ```inflate_factor > 1``` накачивание преобразует элементы матрицы, являющиеся вероятностями перехода из одного состояния в другое для конкретной вершины (соответующей столбцу матрицы), в элементы более вероятных прогулок. Чем выше параметр, тем больше находится кластеров.
* ```max_loop``` - максимальное количество итераций, по умолчанию стоит 100, для более высокой точности можно выставить больше итераций, но оптимально иметь 100. В действительности в большинстве случаев количество итераций будет меньше, так как будет достигнуто устойчивое состояние матрицы (разница двух подряд идущих матриц при заданной точности ```accuracy``` будет равна 0).
* ```loop_value``` - константа, задающая значения диагональных элементов матрицы, говоря понятием графа: вес петли в графе. Если верить автору алгоритма, оптимально иметь значение, равное 1. Увеличение приведет к более высокой гранулярности графа (степени разбиения).
* ```accuracy``` - точность - константа задает порядок, которым можно пренебречь при расчете вероятности. Используется в подсчете разницы двух подряд идущих матриц. Чем выше точность, тем больше итераций алгоритма, и наоборот. 


<a name="2"></a>
## Логика программы


<a name="3"></a>
## Тесты
Реализовано два блока тестов: тесты модуля matrix и тесты корректной работы программы. 

Запуск тестов модуля:
```
python -m unittest -v tests.matrix_test
```

Запуск тестов программы:
```
python -m unittest -v tests.mcl_test
```

<a name="4"></a>
## Оценка сложности


